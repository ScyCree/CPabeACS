{% extends 'manage/table-base.html' %}
{% set page_name='用户管理' %}
{% block table %}
    <div class="d-flex justify-content-end mb-3">
        <button class="btn btn-primary" onclick="change_page('{{ url_for('manage.add_user') }}')">添加用户</button>
    </div>
    <table class="table table-bordered table-striped">
        <thead>
        <tr>
            <th scope="col">用户名</th>
            <th scope="col">邮箱</th>
            <th scope="col">创建时间</th>
            <th scope="col">属性</th>
            <th scope="col">操作</th>
        </tr>
        </thead>
        <tbody>
        {% for user in users %}
        <tr>
            <td>{{ user.username }}</td>
            <td>{{ user.email }}</td>
            <td>{{ user.join_time }}</td>
            <td style="padding: 0;"><select class="form-select">
            {% for attribute in user.attributes %}
                  <option>{{attribute.name}}</option>
            {% endfor %}
            </select>
            </td>
            <td style="padding: 5px;">
                <button type="button" class="btn btn-sm btn-primary" onclick="change_page('{{ url_for('manage.edit_user',user_id=user.id) }}')"><i class="fa fa-pen"></i></button>
                <button type="button" class="btn btn-sm btn-warning" onclick="change_page('{{ url_for('manage.change_user',user_id=user.id) }}')"><i class="fa fa-exchange-alt"></i></button>
                <button type="button" class="btn btn-sm btn-danger" onclick="change_page('{{ url_for('manage.delete_user',user_id=user.id) }}')"><i class="fa fa-trash"></i></button>
            </td>
        </tr>
        {% endfor %}
        </tbody>
    </table>
{% endblock %}